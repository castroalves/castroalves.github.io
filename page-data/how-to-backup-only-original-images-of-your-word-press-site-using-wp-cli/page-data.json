{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/how-to-backup-only-original-images-of-your-word-press-site-using-wp-cli","result":{"data":{"post":{"__typename":"MdxPost","slug":"/how-to-backup-only-original-images-of-your-word-press-site-using-wp-cli","title":"How to backup only original images of your WordPress site using WP-CLI","date":"25.02.2020","tags":[{"name":"Wordpress","slug":"wordpress"},{"name":"WP-CLI","slug":"wp-cli"},{"name":"Productivity","slug":"productivity"}],"description":"In this tutorial you will learn how to create a backup of all original (full) images of a WordPress site using WP-CLI and wget.","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"How to backup only original images of your WordPress site using WP-CLI\",\n  \"date\": \"2020-02-25T00:00:00.000Z\",\n  \"description\": \"In this tutorial you will learn how to create a backup of all original (full) images of a WordPress site using WP-CLI and wget.\",\n  \"tags\": [\"Wordpress\", \"WP-CLI\", \"Productivity\"]\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"I'm member of a WordPress community on WhatsApp. Today, one member raised the following question:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\\"I need to create a backup of all images of a website, but only the original ones. I don't need the thumbnails. Does anybody know how to do that?\\\"\")), mdx(\"p\", null, \"If you Google about \\\"how to backup full images on WordPress\\\" or something similar, you will find a lot of posts about backing up images, but \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"not\"), \" only the original ones.\"), mdx(\"p\", null, \"Then, I've discovered that it's possible to download multiple files at once using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wget -i filename.txt\"), \". \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"filename.txt\"), \" file should contain a list of URLs, but each one must be in a separate line.\"), mdx(\"p\", null, \"But how could I get a list of ALL full images of a WordPress site?\"), mdx(\"h2\", null, \"WP-CLI to the rescue!\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://wp-cli.org/\"\n  }), \"WP-CLI\"), \" is the command-line interface for WordPress. You can update plugins, configure multisite installations and much more, without using a web browser.\")), mdx(\"p\", null, \"For this task, we need to find a way to list the URLs of all original images and save them into a file.\"), mdx(\"p\", null, \"We can do that by running only one command:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"$ wp post list --post_type=attachment --field=guid > wp-content/uploads/images.txt\\n\")), mdx(\"p\", null, \"Let me explain each part of this command:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wp post list\"), \" is a command to list all WordPress posts\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"--post_type=attachment\"), \" is an argument to retrieve only images\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"--field=guid\"), \" is an argumento to retrieve the URL of each image\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \" > wp-content/upload/images.txt\"), \" is a command to output the result of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"wp post list --post_type=attachment --field=guid\"), \" into a file.\")), mdx(\"h2\", null, \"How to download the images (and create a backup)\"), mdx(\"p\", null, \"After running the command above, you should have a file located at \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"https://yousite.com/wp-content/uploads/images.txt\"), \".\"), mdx(\"p\", null, \"Now, you should go back to your terminal, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cd\"), \" to the folder you want to download the files, and type the following command:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"$ wget -i https://yousite.com/wp-content/uploads/images.txt\\n\")), mdx(\"p\", null, \"As soon as you hit Enter/Return, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"wget\"), \" you start to download all the images contained in \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"images.txt\"), \" file to the computer (or server) you're running this command.\"), mdx(\"p\", null, \"Voila!\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"I'm member of a WordPress community on WhatsApp. Today, one member raised the following question: \"I need to create a backup of all imagesâ€¦","timeToRead":1,"banner":null}},"pageContext":{"slug":"/how-to-backup-only-original-images-of-your-word-press-site-using-wp-cli","formatString":"DD.MM.YYYY"}}}